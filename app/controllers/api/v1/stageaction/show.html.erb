<%= render :partial => "header" %>
  <main class="pf-c-page__main pf-l-page__main">
    <section class="pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light">
      <h1 class="pf-c-title pf-m-2xl">
        <span>
          <%= @resources[:approval_web_product] %>
          <span>
          </span>
        </span>
      </h1>
    </section>
    <section class="pf-l-page__main-section pf-c-page__main-section">
      <section class="body" style="background-color: #fff; padding: 16px">
        <div class="pf-c-content info-panel">  
          <h2>Catalog Request</h2>
          <p id="notice"><%= notice %></p>
          <%= render :partial => "request" %>
          <br>
          <a href="#" onclick="showDetails()">Show Details</a>
          <div  id="details" style="display:none;" class="pf-l-grid pf-m-gutter">
            <div class="pf-l-grid__item" style="background-color: #e9e8e9; width: 70%">
              <div class="pf-l-split pf-m-gutter">
                <div class="pf-l-split__item install-title">
                  Order Details
                </div>
                <div class="pf-l-split__item pf-m-fill">
                  <% @order[:order_content].each do |k, v| %>
                    <div class="pf-l-grid__item">
                      <div class="pf-l-split pf-m-gutter">
                        <div class="pf-l-split__item install-title"><%= k %></div>
                        <div class="pf-l-split__item pf-m-fill"><%= v %></div>
                      </div>
                    </div>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
          <p>
          <div class="install-title">Reason/Memo</div>
          <%= form_with method: :patch do |form| %>
            <%= form.text_area :message, style: "width:70%" %>
            <br><br>
            <%= form.hidden_field :approver, value: Base64.encode64(@approver) %>
            <%= form.submit 'Memo', class: "pf-c-button pf-m-secondary" %>
            <%= form.submit 'Approve', class: "pf-c-button pf-m-primary" %>
            <%= form.submit 'Deny', class: "pf-c-button pf-m-danger" %>
          <% end %>

          <script>
              function showDetails() {
                  var x = document.getElementById("details");
                  if (x.style.display === "none") {
                    x.style.display = "block";
                  } else {
                    x.style.display = "none";
                  }
              }
          </script>
    </section>
<%= render :partial => "footer" %>
